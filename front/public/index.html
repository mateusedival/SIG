<!DOCTYPE html>
<html>

<head>
    <title>SIG</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" rel="stylesheet">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <script defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBC3yZ41FUzAQbV24nCozHRRXtsttaRCOw&callback=initMap">
        </script>

    <link rel="stylesheet" href="./styles.css">
    <script>
       var map;
        function initMap() {
        
            const center = { lat: -6075422.07154195,lng: -2937868.99220626};
            
            map = new google.maps.Map(document.getElementById("map"), {
                zoom: 13,
                center: center,
            });
            const URL_TO_FETCH = 'http://25.7.142.197:8080/plantio/';

            fetch(URL_TO_FETCH)
            .then(function (response) {
                response.json().then(function (data) {
                    init(data)
                });
            })
            .catch(function (err) {
                console.error('Failed retrieving information', err);
            });
        }
        function init(points) {

                points.forEach((x) => {
                    const pos = {lat: x.pontoX, lng: x.pontoY};
                    const marker = new google.maps.Marker({
                        position: pos,
                        map: map,
                    });
                    const infowindow = new google.maps.InfoWindow({
                        content: `<p>${x.nome}\n<p><p>${x.nomeCientifico}\n</p>`+
                                `<p>${x.data}\n<p>`,
                    });

                    marker.addListener("click", () => {
                        infowindow.open(map, marker);
                });

                })
            }
    </script>
</head>

<body>

        
    <div class="header">
        <button class="headerBtn" id="btnMap" > Mapa </button>
        <button class="headerBtn" id="btnForms"> Cadastro</button>
        <button class="headerBtn" id="btnView"> Visualização</button>
    </div>
    <div class="botton">
        <div id="map">T</div>
        <div id="forms">
            <button id="cursoBtn" >Curso</button>
            <button id="alunoBtn" >Aluno</button>
            <button id="shapeBtn" >Shape</button>
            <div id="alunoForms">
                <div class="centerV">
                    <div class="centerH">
                        <div class="input">
                            <label for="nome">Nome</label>
                            <input id="nome" type="text">
                        </div>
                        <div class="input">
                            <label for="idade">Idade</label>
                            <input id="idade" type="text">  
                        </div>
                        <div class="input">
                            <label for="serie">Série</label>
                            <input id="serie" type="text">
                        </div> 
                    </div>
                    <div class="centerH">
                        <button type="button" id="cursoPost"  >Cadastrar</button>
                    </div>
                </div>   
            </div>
            <div id="shapeForms" >
                <div class="centerV">
                    <div class="centerH">
                        <div class="input">
                            <label for="shp">Shape file</label> 
                            <input type="file" id="shp" multiple>
                        </div>   
                    </div>
                    <div class="centerH">
                        <button type="button" id="alunoPost"  >Cadastrar</button>
                    </div>
                </div>
            </div>
            <div id="cursoForms">
                <div class="centerV">
                    <div class="centerH">
                        <div class="input">
                            <label for="nome">Nome</label>
                            <input id="nome" type="text">
                        </div> 
                    </div>
                    <div class="centerH">
                        <button type="button" id="shapePost"  >Cadastrar</button>
                    </div>
                </div>
            </div>
            
        </div>
        <div id="view">
            
        </div>
        <div id="edit">
            <div class="centerV">
                <div class="centerH">
                    <div class="input">
                        <label for="nomeEdit">Nome</label>
                         <input id="nomeEdit" type="text">
                    </div>
                    <div class="input">
                        <label for="nomeCientificoEdit">Nome Cientifico</label>
                        <input id="nomeCientificoEdit" type="text">  
                    </div>
                </div>
                <div class="centerH">
                    <div class="input">
                        <label for="dataEdit">Data</label>
                        <input id="dataEdit" type="text">  
                    </div>
                </div>
                <div class="centerH">
                    <button type="button" id="postEdit">Atualizar</button>
                    <button type="button" id="cancelEdit">Cancelar</button>
                </div>
              
            </div>
            
        </div>
        
    </div>
    


    <script src="./bundle.js"></script>
</body>

</html>