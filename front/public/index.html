<!DOCTYPE html>
<html>

<head>
    <title>PokéFind</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" rel="stylesheet">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <script defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBC3yZ41FUzAQbV24nCozHRRXtsttaRCOw&callback=initMap">
        </script>

    <link rel="stylesheet" href="./styles.css">
    <script>

        /*const points = async () => {
            const response = await fetch('localhost:8080/plantio', {method: 'GET'});
            const points = await response.json(); 
            return points
        }*/
        let points = [{
            "id": 0,
            "nome": "Laranjeira",
            "nomeCientifico": "laaaaaaaaaaa",
            "data": "2020-11-02T03:00:00.000+00:00",
            "pontoX": -24.9633588,
            "pontoY": -53.4514861,
            "aluno" : {
                "id": 7,
                "nome": "André",
                "idade": 29,
                "serie": 1,
                "curso" : {
                    "id": 3,
                    "nome": "Engenharia"
                }
            }
        },
        {
            "id": 1,
            "nome": "Jabuticabeira",
            "nomeCientifico": "laaaaaaaaaaa",
            "data": "2020-11-02T03:00:00.000+00:00",
            "pontoX": -24.9733588,
            "pontoY": -53.4514861,
            "aluno" : {
                "id": 7,
                "nome": "André",
                "idade": 29,
                "serie": 1,
                "curso" : {
                    "id": 3,
                    "nome": "Engenharia"
                }
            }
        }]
        
       
        function initMap() {

            // The location of Uluru
            const center = { lat: -24.9633588,lng: -53.4514861};
            // The map, centered at Uluru
            const map = new google.maps.Map(document.getElementById("map"), {
                zoom: 13,
                center: center,
            });
           
            points.forEach((x) => {
                const pos = {lat: x.pontoX, lng: x.pontoY};
                const marker = new google.maps.Marker({
                    position: pos,
                    map: map,
                });
                const infowindow = new google.maps.InfoWindow({

                    content: `<p>${x.nome}\n<p><p>${x.nomeCientifico}\n</p>`+
                             `<p>${x.data}\n<p><p>${x.aluno.nome}</p>`,
                });

                marker.addListener("click", () => {
                    infowindow.open(map, marker);
                });

            })
           

        }
        
    </script>
</head>

<body>

        
    <div class="header">
        <button class="headerBtn" id="btnMap" > Mapa </button>
        <button class="headerBtn" id="btnForms"> Cadastro</button>
        <button class="headerBtn" id="btnView"> Visualização</button>
    </div>
    <div class="botton">
        <div id="map">T</div>
        <div id="forms">
            <div class="centerV">
                <div class="centerH">
                    <div class="input">
                        <label for="nome">Nome</label>
                         <input id="nome" type="text">
                    </div>
                    <div class="input">
                        <label for="idade">Idade</label>
                        <input id="idade" type="text">  
                    </div>
                    
                </div>
                <div class="centerH">
                    <div class="input">
                        <label for="curso">Curso</label>
                        <select id="curso">
                            <option value="cc">Ciência da Computação</option>
                            <option value="ee">Engenharia elétrica</option>
                            <option value="es">Engenharia de Software</option>
                            <option value="ec">Engenharia da Computação</option>
                        </select>
                    </div>
                   <div class="input">
                        <label for="serie">Série</label>
                        <input id="serie" type="text">
                   </div> 
                </div>
                <div class="centerH">
                    <div class="input">
                        <label for="shp">Shape file</label> 
                        <input type="file" id="shp" multiple>
                    </div>   
                </div>
                <div class="centerH">
                    <button type="button" id="post"  ></button>
                </div>
              
            </div>
            
        </div>
        <div id="view">
            
        </div>
        <div id="edit">
            <div class="centerV">
                <div class="centerH">
                    <div class="input">
                        <label for="nomeEdit">Nome</label>
                         <input id="nomeEdit" type="text">
                    </div>
                    <div class="input">
                        <label for="nomeCientificoEdit">Nome Cientifico</label>
                        <input id="nomeCientificoEdit" type="text">  
                    </div>
                </div>
                <div class="centerH">
                    <div class="input">
                        <label for="dataEdit">Data</label>
                        <input id="dataEdit" type="text">  
                    </div>
                    <div class="input">
                        <label for="shpEdit">Shape file</label> 
                        <input type="file" id="shpEdit" multiple>
                    </div>   
                </div>
                <div class="centerH">
                    <button type="button" id="postEdit">Atualizar</button>
                    <button type="button" id="cancelEdit">Cancelar</button>
                </div>
              
            </div>
            
        </div>
        
    </div>
    


    <script src="./bundle.js"></script>
</body>

</html>